var B=Object.defineProperty;var F=(u,t,o)=>t in u?B(u,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):u[t]=o;var r=(u,t,o)=>(F(u,typeof t!="symbol"?t+"":t,o),o);import{d as f,_ as C,o as g,c as A,a as n,t as i}from"./index.243033be.js";var m=(u=>(u[u.NULL=0]="NULL",u[u.TIMEOUT=1]="TIMEOUT",u))(m||{});const d=window;async function h(u,t,o,e=0){if(o){const s=`${u}_${Date.now()}`;D(s,o,e),b(u,t,s)}else b(u,t)}function b(u,t,o){const e=d.webkit&&d.webkit.messageHandlers,s={...t};return o&&(s.callback=o),e&&e[u]?(e[u].postMessage(s),!0):!1}const D=(u,t,o=0)=>{let e=-1;o>0&&(e=setTimeout(()=>{d[u]="",t({err:1,data:{}})},o)),d[u]=s=>{const a=s.err,l=s.data;console.log(s.data.result);const c=JSON.parse(l);clearTimeout(e),t({err:a,data:c})}};class E{constructor(t,o,e,s,a,l,c){r(this,"numberA");r(this,"numberB");r(this,"numberC");r(this,"numberD");r(this,"additionResult");r(this,"subtractionResult");r(this,"errorToast");this.numberA=t,this.numberB=o,this.numberC=e,this.numberD=s,this.additionResult=a,this.subtractionResult=l,this.errorToast=c}}const T=f({mounted(){},data(){return new E(0,0,0,0,0,0,null)},methods:{helloworld(){h("helloworld",{})},calculationAddition(){const u=Math.floor(Math.random()*1e4),t=Math.floor(Math.random()*1e4);this.numberA=u,this.numberB=t,h("calculateAddition",{numberA:u,numberB:t},({data:o,err:e})=>{if(e)console.log(e);else{console.log(o.result);let s=o.result;s?this.additionResult=s:console.log("\u6570\u636E\u683C\u5F0F\u9519\u8BEF")}})},calculationSubtraction(){const u=Math.floor(Math.random()*1e4),t=Math.floor(Math.random()*1e4);this.numberC=u,this.numberD=t,this.errorToast=null,h("calculationSubtraction",{numberC:u,numberD:t},({data:o,err:e})=>{if(e)e===m.TIMEOUT?this.errorToast="\u56DE\u8C03\u8D85\u65F6":this.errorToast="\u5176\u4ED6\u9519\u8BEF",console.log(e);else{console.log(o.result);let s=o.result;s?this.subtractionResult=s:console.log("\u6570\u636E\u683C\u5F0F\u9519\u8BEF")}},2e3)}}});const _=n("h2",{class:"title"},"JSBridge\u6D4B\u8BD5\u9875\u9762",-1),w={class:"test-cases"},p={class:"case"},M=n("h3",null,"\u53D1\u9001helloworld\u5B57\u7B26\u4E32",-1),v={class:"case"},k=n("h3",null,"\u968F\u673A\u751F\u6210\u4E00\u5BF9\u6574\u6570\uFF0C\u8BF7\u6C42\u5BA2\u6237\u7AEF\u8BA1\u7B97\u52A0\u6CD5\u7ED3\u679C",-1),S={class:"case"},N=n("h3",null,"\u968F\u673A\u751F\u6210\u4E00\u5BF9\u6574\u6570\uFF0C\u8BF7\u6C42\u5BA2\u6237\u7AEF\u8BA1\u7B97\u51CF\u6CD5\uFF0Ccallback\u6709\u6548\u65F6\u95F42s",-1),$={class:"errorToast"};function y(u,t,o,e,s,a){return g(),A("main",null,[_,n("div",w,[n("div",p,[M,n("button",{onClick:t[0]||(t[0]=(...l)=>u.helloworld&&u.helloworld(...l))},"\u53D1\u9001")]),n("div",v,[k,n("button",{onClick:t[1]||(t[1]=(...l)=>u.calculationAddition&&u.calculationAddition(...l))},"\u751F\u6210\u4E00\u7EC4\u6570\u5B57"),n("div",null,i(u.numberA)+" + "+i(u.numberB)+" = "+i(u.additionResult),1)]),n("div",S,[N,n("button",{onClick:t[2]||(t[2]=(...l)=>u.calculationSubtraction&&u.calculationSubtraction(...l))},"\u751F\u6210\u4E00\u7EC4\u6570\u5B57"),n("div",null,i(u.numberC)+" - "+i(u.numberD)+" = "+i(u.subtractionResult),1),n("div",$,i(u.errorToast),1)])])])}const I=C(T,[["render",y]]);export{I as default};
